<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<style>
img{
    width: 100px;
    height: 100px;
    position: absolute;
    left:100px;
    top: 100px;
}
</style>
<body>
    <img src="../img/1.png" alt="">
    <script>
        const img=document.getElementsByTagName("img")[0];
        /* img.onmousedown=function(e){
            console.log(e.shiftKey);
            console.log(e.clientX,e.clientY);
            x=e.clientX-100;
            y=e.clientY-100;
            if(e.shiftKey){
                img.addEventListener("mousemove",move)
                img.addEventListener("mouseup",up)
            }
            
        }
        function move(e){
            console.log(e.clientX);
            // img.style.left=100+x+e.clientX+"px";
            // img.style.top=100+y+e.clientY+"px";
        }
        function up(){
            img.removeEventListener("mousemove",move);
            //img.removeEventListener("mousedown");
        } */
        img.onmousedown=drag;
        function drag(event){
            elementToDrag=img;
            //var scroll=getScrollOffsets();
            var startX=event.clientX;//+scroll.x;
            var startY=event.clientY;//+scroll.y;

            var origX=elementToDrag.offsetLeft;
            var origY=elementToDrag.offsetTop;

            var deltaX=startX-origX;
            var deltaY=startY-origY;

            document.addEventListener("mousemove",moveHandler,true);
            document.addEventListener("mouseup",upHandler,true);

            event.stopPropagation();

            event.preventDefault();
        
        function moveHandler(e){
            //var scroll=getScrollOffsets();
            elementToDrag.style.left=(e.clientX-deltaX)+"px";//+scroll.x
            elementToDrag.style.top=(e.clientY-deltaY)+"px";//+scroll.y

            e.stopPropagation();
        }
        function upHandler(e){
            document.removeEventListener("mouseup",upHandler,true);
            document.removeEventListener("mousemove",moveHandler,true);

            e.stopPropagation();
        }
    }
    </script>
</body>
</html>