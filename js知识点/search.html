<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
    ul{
        width: 100px;
        height: 100px;
        display:none;
    }
    ul li:hover{
        background: red;
    }
    li.active{
        background: red;
    }
    /* li:nth-child(1){
        background: red;
    } */
    </style>
</head>
<body>
    <input type="text" id='txt'>
    <ul id='ul'></ul>
    <script>
    let arr=['11111111111111','222222222222222222','3333333333333333','444444444444444444'];
    let str='';
    let i=0;
    let lis=ul.getElementsByTagName('li');
    //let curLi=lis[0];//静态的所以没取到

    arr.forEach((e,i)=>{
        str+=`<li>${arr[i]}</li>`;
    })
    ul.innerHTML=str;
    let curLi=lis[0];
    console.log(curLi,lis);
    
    txt.onfocus=function(){
        ul.style.display="block";
    }

    txt.onkeyup=function(ev){
        console.log('ulkeydown')
        switch(ev.keyCode){
            case 40:
                i++;
                if(i===lis.length) i=0;
                txt.value=lis[i].innerHTML;
                curLi.className="";
                lis[i].className='active';
                curLi=lis[i];
            break;
            case 38:
                i--;
                if(i<0) i=lis.length-1;
                txt.value=lis[i].innerHTML;
                curLi.className="";
                lis[i].className='active';
                curLi=lis[i];
            break;
            case 13:
                txt.value=lis[i].innerHTML;  
                curLi.className="";
                lis[i].className='active';
                ul.style.display='none' ;
                curLi=lis[i];
            break;
        }
    }
    ul.onmousedown=function(ev){
        console.log(ev)
        if(ev.target.nodeName!=='LI') return;
        txt.value=ev.target.innerHTML;
        this.style.display='none' ;
    };

/*     let obj={
        fn:function(){
            console.log(this);
        }
    }
    setInterval(obj.fn(),1000); */

   /*  (()=>{
        console.log(this);
    })() */


    let {push:xx}=[];
    let arr1=[];
    xx.call(arr1,5);
    console.log(arr1);
    


    </script>
</body>
</html>